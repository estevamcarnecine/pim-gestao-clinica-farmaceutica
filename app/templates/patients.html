{% extends "base.html" %}
{% block content %}
<h2>Patients List</h2>

<a href="{{ url_for('main.new_patient') }}">Add New Patient</a>

<table border="1" cellpadding="5" cellspacing="0">
    <tr>
        <th>Name</th>
        <th>Age</th>
        <th>Diagnosis</th>
        <th>Actions</th>
    </tr>
    {% for patient in patients %}
    <tr>
        <td>{{ patient.name }}</td>
        <td>{{ patient.age }}</td>
        <td>{{ patient.diagnosis }}</td>
        <td>
            <a href="{{ url_for('main.edit_patient', id=patient.id) }}">Edit</a>
            <form action="{{ url_for('main.delete_patient', id=patient.id) }}" method="POST" style="display:inline;">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this patient?');">Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
